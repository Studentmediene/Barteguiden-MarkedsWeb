<!--
~ Copyright 2015 Studentmediene i Trondheim AS
~
~ Licensed under the Apache License, Version 2.0 (the "License");
~ you may not use this file except in compliance with the License.
~ You may obtain a copy of the License at
~
~ http://www.apache.org/licenses/LICENSE-2.0
~
~ Unless required by applicable law or agreed to in writing, software
~ distributed under the License is distributed on an "AS IS" BASIS,
~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
~ See the License for the specific language governing permissions and
~ limitations under the License.
-->
<h3>Steder</h3>
<div class="input-group row">
  <div class="col-md-4">
    <button class="btn btn-md btn-info" ng-click="addVenue()">
      Legg til sted
    </button>
  </div>
  <div class="col-md-4">
    <div class="input-group">
      <input ng-model="search.name" type="text" class="form-control" aria-label="..." placeholder="Søk på sted">
    </div>
  </div>
  <div class="col-md-4">
    <button class="btn btn-md btn-warning" ng-click="openModalMergeVenues()"
      ng-if="numberToMerge > 1"
      >
      Slå sammen steder
    </button>
  </div>
</div>
<div class="table-responsive">
  <table class="table table-striped">
    <thead>
    <tr>
      <th>
        <a href="" ng-click="order('name')">Navn</a>
      </th>
      <th>
        <a href="" ng-click="order('address')">Adresse</a>
      </th>
      <th>Slå sammen</th><th>Endre</th><th>Slett</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="venue in venues | orderBy : orderProperty : reverse | filter : search">
      <td>
        {{venue.name}}
      </td>
      <td>
        {{venue.address}}
      </td>
      <td>
        <input type="checkbox" name="tomerge" value="{{value}}"
          ng-click="toggleToMerge(venue)"
          ng-checked="false" ng-model="venue.selectedForMerge">
      </td>
      <td>
        <button ng-click="editVenue(venue._id)" class="btn btn-xs btn-info">Endre</button>
      </td>
      <td>
        <button ng-click="open(venue._id)" class="btn btn-xs btn-danger">Slett</button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
